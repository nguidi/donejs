steal.has("jquery/lang/vector/vector.js","jquery/event/livehack/livehack.js","jquery/event/drag/drag.js");
steal("jquery").then(function(c){var h=function(d){return void 0!==d?this.array[0]=d:this.array[0]},e=function(d){return void 0!==d?this.array[1]=d:this.array[1]};c.Vector=function(){this.update(c.makeArray(arguments))};c.Vector.prototype={app:function(d){var a,b=[];for(a=0;a<this.array.length;a++)b.push(d(this.array[a]));return(new c.Vector).update(b)},plus:function(){var d,a=arguments[0]instanceof c.Vector?arguments[0].array:c.makeArray(arguments),b=this.array.slice(0),e=new c.Vector;for(d=0;d<
a.length;d++)b[d]=(b[d]?b[d]:0)+a[d];return e.update(b)},minus:function(){var d,a=arguments[0]instanceof c.Vector?arguments[0].array:c.makeArray(arguments),b=this.array.slice(0),e=new c.Vector;for(d=0;d<a.length;d++)b[d]=(b[d]?b[d]:0)-a[d];return e.update(b)},equals:function(){var d,a=arguments[0]instanceof c.Vector?arguments[0].array:c.makeArray(arguments),b=this.array.slice(0),e=new c.Vector;for(d=0;d<a.length;d++)if(b[d]!=a[d])return null;return e.update(b)},x:h,left:h,width:h,y:e,top:e,height:e,
toString:function(){return"("+this.array[0]+","+this.array[1]+")"},update:function(d){var a;if(this.array)for(a=0;a<this.array.length;a++)delete this.array[a];this.array=d;for(a=0;a<d.length;a++)this[a]=this.array[a];return this}};c.Event.prototype.vector=function(){if(this.originalEvent.synthetic){var d=document.documentElement,a=document.body;return new c.Vector(this.clientX+(d&&d.scrollLeft||a&&a.scrollLeft||0)-(d.clientLeft||0),this.clientY+(d&&d.scrollTop||a&&a.scrollTop||0)-(d.clientTop||0))}return new c.Vector(this.pageX,
this.pageY)};c.fn.offsetv=function(){if(this[0]==window)return new c.Vector(window.pageXOffset?window.pageXOffset:document.documentElement.scrollLeft,window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop);var d=this.offset();return new c.Vector(d.left,d.top)};c.fn.dimensionsv=function(d){return this[0]==window||!d?new c.Vector(this.width(),this.height()):new c.Vector(this[d+"Width"](),this[d+"Height"]())}});steal.executed("jquery/lang/vector/vector.js");
steal("jquery/event").then(function(){var c=jQuery.event,h=function(c,d,a,b){var j,g,f,h,k,i,l,m;for(j=0;j<d.length;j++){g=d[j];h=0>g.indexOf(".");h||(f=g.split("."),g=f.shift(),l=RegExp("(^|\\.)"+f.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)"));f=(c[g]||[]).slice(0);for(k=0;k<f.length;k++)i=f[k],(m=h||l.test(i.namespace))&&(b?i.selector===b&&a(g,i.origHandler||i.handler):null===b?a(g,i.origHandler||i.handler,i.selector):i.selector||a(g,i.origHandler||i.handler))}};c.find=function(c,d,a){var c=
($._data(c)||{}).events,b=[];if(!c)return b;h(c,d,function(a,c){b.push(c)},a);return b};c.findBySelector=function(c,d){var a=$._data(c).events,b={};if(!a)return b;h(a,d,function(a,c,d){d=d||"";d=b[d]||(b[d]={});(d[a]||(d[a]=[])).push(c)},null);return b};c.supportTouch="ontouchend"in document;$.fn.respondsTo=function(e){return this.length?0<c.find(this[0],$.isArray(e)?e:[e]).length:!1};$.fn.triggerHandled=function(c,d){c="string"==typeof c?$.Event(c):c;this.trigger(c,d);return c.handled};c.setupHelper=
function(e,d,a){a||(a=d,d=null);var b=function(b){var f=b.selector||"";if(f){b=c.find(this,e,f);b.length||$(this).delegate(f,d,a)}else c.find(this,e,f).length||c.add(this,d,a,{selector:f,delegate:this})},j=function(b){var f=b.selector||"";if(f){b=c.find(this,e,f);b.length||$(this).undelegate(f,d,a)}else c.find(this,e,f).length||c.remove(this,d,a,{selector:f,delegate:this})};$.each(e,function(){c.special[this]={add:b,remove:j,setup:function(){},teardown:function(){}}})}});steal.executed("jquery/event/livehack/livehack.js");
steal("jquery/event","jquery/lang/vector","jquery/event/livehack",function(c){var h=function(a,b){var d=Array.prototype.slice.call(arguments,2);return function(){var e=[this].concat(d,c.makeArray(arguments));return b.apply(a,e)}},e=c.event,d=window.getSelection?function(){window.getSelection().removeAllRanges()}:function(){};c.Drag=function(){};c.extend(c.Drag,{lowerName:"drag",current:null,distance:0,mousedown:function(a,b){if((0===a.button||1==a.button)&&!this.current){var d=new c.Drag,g=a.delegateTarget||
b,f=a.handleObj.selector,h=this;this.current=d;d.setup({element:b,delegate:a.delegateTarget||b,selector:a.handleObj.selector,moved:!1,_distance:this.distance,callbacks:{dragdown:e.find(g,["dragdown"],f),draginit:e.find(g,["draginit"],f),dragover:e.find(g,["dragover"],f),dragmove:e.find(g,["dragmove"],f),dragout:e.find(g,["dragout"],f),dragend:e.find(g,["dragend"],f)},destroyed:function(){h.current=null}},a)}}});c.extend(c.Drag.prototype,{setup:function(a,b){c.extend(this,a);this.element=c(this.element);
this.event=b;this.allowOtherDrags=this.moved=!1;var e=h(this,this.mousemove),g=h(this,this.mouseup);this._mousemove=e;this._mouseup=g;this._distance=a.distance?a.distance:0;this.mouseStartPosition=b.vector();c(document).bind("mousemove",e);c(document).bind("mouseup",g);this.callEvents("down",this.element,b)||(this.noSelection(this.delegate),d())},destroy:function(){c(document).unbind("mousemove",this._mousemove);c(document).unbind("mouseup",this._mouseup);this.moved||(this.event=this.element=null);
this.selection(this.delegate);this.destroyed()},mousemove:function(a,b){if(!this.moved){if(Math.sqrt(Math.pow(b.pageX-this.event.pageX,2)+Math.pow(b.pageY-this.event.pageY,2))<this._distance)return!1;this.init(this.element,b);this.moved=!0}var c=b.vector();(!this._start_position||!this._start_position.equals(c))&&this.draw(c,b)},mouseup:function(a,b){this.moved&&this.end(b);this.destroy()},noSelection:function(a){a=a||this.delegate;document.documentElement.onselectstart=function(){return!1};document.documentElement.unselectable=
"on";this.selectionDisabled=this.selectionDisabled?this.selectionDisabled.add(a):c(a);this.selectionDisabled.css("-moz-user-select","-moz-none")},selection:function(){this.selectionDisabled&&(document.documentElement.onselectstart=function(){},document.documentElement.unselectable="off",this.selectionDisabled.css("-moz-user-select",""))},init:function(a,b){var a=c(a),d=this.movingElement=this.element=c(a);this._cancelled=!1;this.event=b;this.mouseElementPosition=this.mouseStartPosition.minus(this.element.offsetv());
this.callEvents("init",a,b);!0!==this._cancelled&&(this.startPosition=d!=this.movingElement?this.movingElement.offsetv():this.currentDelta(),this.makePositioned(this.movingElement),this.oldZIndex=this.movingElement.css("zIndex"),this.movingElement.css("zIndex",1E3),!this._only&&this.constructor.responder&&this.constructor.responder.compile(b,this))},makePositioned:function(a){var b;b=a.css("position");if(!b||"static"==b)b={position:"relative"},window.opera&&(b.top="0px",b.left="0px"),a.css(b)},callEvents:function(a,
b,c,d){for(var e=this.callbacks[this.constructor.lowerName+a],a=0;a<e.length;a++)e[a].call(b,c,this,d);return e.length},currentDelta:function(){return new c.Vector(parseInt(this.movingElement.css("left"),10)||0,parseInt(this.movingElement.css("top"),10)||0)},draw:function(a,b){this._cancelled||(d(),this.location=a.minus(this.mouseElementPosition),this.move(b),this._cancelled||(b.isDefaultPrevented()||this.position(this.location),!this._only&&this.constructor.responder&&this.constructor.responder.show(a,
this,b)))},position:function(a){var b=this.currentDelta(),b=this.movingElement.offsetv().minus(b);this.required_css_position=a.minus(b);this.offsetv=a;a=this.movingElement[0].style;!this._cancelled&&!this._horizontal&&(a.top=this.required_css_position.top()+"px");!this._cancelled&&!this._vertical&&(a.left=this.required_css_position.left()+"px")},move:function(a){this.callEvents("move",this.element,a)},over:function(a,b){this.callEvents("over",this.element,a,b)},out:function(a,b){this.callEvents("out",
this.element,a,b)},end:function(a){if(!this._cancelled){!this._only&&this.constructor.responder&&this.constructor.responder.end(a,this);this.callEvents("end",this.element,a);if(this._revert){var b=this;this.movingElement.animate({top:this.startPosition.top()+"px",left:this.startPosition.left()+"px"},function(){b.cleanup.apply(b,arguments)})}else this.cleanup();this.event=null}},cleanup:function(){this.movingElement.css({zIndex:this.oldZIndex});this.movingElement[0]!==this.element[0]&&(!this.movingElement.has(this.element[0]).length&&
!this.element.has(this.movingElement[0]).length)&&this.movingElement.css({display:"none"});this._removeMovingElement&&this.movingElement.remove();this.movingElement=this.element=this.event=null},cancel:function(){this._cancelled=!0;!this._only&&this.constructor.responder&&this.constructor.responder.clear(this.event.vector(),this,this.event);this.destroy()},ghost:function(a){var b=this.movingElement.clone().css("position","absolute");(a?c(a):this.movingElement).after(b);b.width(this.movingElement.width()).height(this.movingElement.height());
b.offset(this.movingElement.offset());this.movingElement=b;this.noSelection(b);this._removeMovingElement=!0;return b},representative:function(a,b,d){this._offsetX=b||0;this._offsetY=d||0;b=this.mouseStartPosition;this.movingElement=c(a);this.movingElement.css({top:b.y()-this._offsetY+"px",left:b.x()-this._offsetX+"px",display:"block",position:"absolute"}).show();this.noSelection(this.movingElement);this.mouseElementPosition=new c.Vector(this._offsetX,this._offsetY)},revert:function(a){this._revert=
void 0===a?!0:a;return this},vertical:function(){this._vertical=!0;return this},horizontal:function(){return this._horizontal=!0},only:function(a){return this._only=void 0===a?!0:a},distance:function(a){return void 0!==a?(this._distance=a,this):this._distance}});e.setupHelper("dragdown draginit dragover dragmove dragout dragend".split(" "),"mousedown",function(a){c.Drag.mousedown.call(c.Drag,a,this)})});steal.executed("jquery/event/drag/drag.js");
